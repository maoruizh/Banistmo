[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'","result":{"duration":1280000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4,"doc_string":{"content_type":"","value":"09:45:18.935 karate.env system property was: null \n","line":4}}]},{"start_timestamp":"2024-02-27T14:45:18.886Z","line":16,"name":"Validate that the status of alternative is <statusAlternative>","description":"","id":"validate-that-the-status-of-alternative-is-<statusalternative>","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"path '\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status'","result":{"duration":760700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":7},{"name":"request { 'documentNumber': 8431834, 'documentType': 1, 'statusAlternative': <statusAlternative>, 'subStatusAlternative': 'Pendiente' }","result":{"duration":56145900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":8},{"name":"method POST","result":{"duration":1008356100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":9},{"name":"status 200","result":{"duration":193300,"error_message":"status code was: 403, expected: 200, response time in milliseconds: 662, url: https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status, response: \n<html style=\"height:100%\"><head><META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"><meta name=\"format-detection\" content=\"telephone=no\"><meta name=\"viewport\" content=\"initial-scale=1.0\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><\/head><body style=\"margin:0px;height:100%\"><iframe id=\"main-iframe\" src=\"\/_Incapsula_Resource?CWUDNSAI=23&xinfo=13-18350460-0%20NNNN%20RT%281709045095315%20353%29%20q%280%200%20-1%20-1%29%20r%280%20-1%29%20B15%2811%2c2507839%2c0%29%20U24&incident_id=1602000640072440767-87442033853206541&edet=15&cinfo=0b0000004e3e&rpinfo=0&mth=POST\" frameborder=0 width=\"100%\" height=\"100%\" marginheight=\"0px\" marginwidth=\"0px\">Request unsuccessful. Incapsula incident ID: 1602000640072440767-87442033853206541<\/iframe><\/body><\/html>\nclasspath:firma-electronica\/send-email\/send_email.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":10,"doc_string":{"content_type":"","value":"09:45:20.047 classpath:firma-electronica\/send-email\/send_email.feature:10\nThen status 200\nstatus code was: 403, expected: 200, response time in milliseconds: 662, url: https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status, response: \n<html style=\"height:100%\"><head><META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"><meta name=\"format-detection\" content=\"telephone=no\"><meta name=\"viewport\" content=\"initial-scale=1.0\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><\/head><body style=\"margin:0px;height:100%\"><iframe id=\"main-iframe\" src=\"\/_Incapsula_Resource?CWUDNSAI=23&xinfo=13-18350460-0%20NNNN%20RT%281709045095315%20353%29%20q%280%200%20-1%20-1%29%20r%280%20-1%29%20B15%2811%2c2507839%2c0%29%20U24&incident_id=1602000640072440767-87442033853206541&edet=15&cinfo=0b0000004e3e&rpinfo=0&mth=POST\" frameborder=0 width=\"100%\" height=\"100%\" marginheight=\"0px\" marginwidth=\"0px\">Request unsuccessful. Incapsula incident ID: 1602000640072440767-87442033853206541<\/iframe><\/body><\/html>\nclasspath:firma-electronica\/send-email\/send_email.feature:10\n","line":10}},{"name":"match $.status == 'Pendiente Correo Instrucciones'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":11},{"name":"print response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'","result":{"duration":320900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4,"doc_string":{"content_type":"","value":"09:45:20.066 karate.env system property was: null \n","line":4}}]},{"start_timestamp":"2024-02-27T14:45:20.065Z","line":28,"name":"Send email and validate the next status message 'En proceso' [\"Pendiente Firma cliente\"]","description":"","id":"send-email-and-validate-the-next-status-message-'en-proceso'-[\"pendiente-firma-cliente\"]","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"path '\/cobranza-digital\/ms-signature-2\/signature\/send-email'","result":{"duration":418000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":19},{"name":"request { 'documentNumber': 8431834, 'documentType': 1 }","result":{"duration":187100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":20},{"name":"method POST","result":{"duration":286431100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":21},{"name":"status 200","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":22},{"name":"print response","result":{"duration":15901400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":23,"doc_string":{"content_type":"","value":"09:45:20.370 [print] {\n  \"numDocumento\": 8431834,\n  \"statusEmail\": \"Email no enviado\",\n  \"detailsError\": \"No ha sido posible enviar el email porque el estado de alguna de las alternativas no se encuentra en estado 'Pendiente Correo Instrucciones'\"\n}\n \n","line":23}},{"name":"match $.statusNegotiation == 'En proceso'","result":{"duration":31520700,"error_message":"match failed: EQUALS\n  $ | actual path does not exist (STRING:STRING)\n  '#notpresent'\n  'En proceso'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:24","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24,"doc_string":{"content_type":"","value":"09:45:20.400 classpath:firma-electronica\/send-email\/send_email.feature:24\nAnd match $.statusNegotiation == 'En proceso'\nmatch failed: EQUALS\n  $ | actual path does not exist (STRING:STRING)\n  '#notpresent'\n  'En proceso'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:24\n","line":24}},{"name":"match $.statusAltenatives == [\"Pendiente Firma cliente\"]","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'","result":{"duration":722700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4,"doc_string":{"content_type":"","value":"09:45:20.418 karate.env system property was: null \n","line":4}}]},{"start_timestamp":"2024-02-27T14:45:20.418Z","line":39,"name":"validate the state \"Pendiente de firma\"","description":"","id":"validate-the-state-\"pendiente-de-firma\"","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"path '\/cobranza-digital\/ms-signature-2\/sign\/consult\/negotiation'","result":{"duration":1215400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"request { 'documentNumber': 8431834, 'documentType': 1 }","result":{"duration":368200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method POST","result":{"duration":1097298900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33},{"name":"status 200","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"print response","result":{"duration":4097800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35,"doc_string":{"content_type":"","value":"09:45:21.525 [print] {\n  \"data\": {\n    \"client\": {\n      \"documentNumber\": 8431834,\n      \"documentType\": \"Cedula de Extranjeria\",\n      \"statusNegotiation\": \"En proceso\",\n      \"firsName\": \"JOHN\",\n      \"lastName\": \"RUIZ\",\n      \"mail\": \"mcoronad@bancolombia.com\",\n      \"solicitante\": \"Konecta\",\n      \"girador\": \"458528\"\n    },\n    \"alternatives\": [\n      {\n        \"nameAlternative\": \"Consolidacion de Pasivos\",\n        \"descAlternative\": \"Se unifican varias deudas con nuevas condiciones, como períodos de gracia, ampliación del plazo, cambio en tasa de interés, entre otras. No te preocupes! tu calificación no será afectada negativamente en las centrales de información.\",\n        \"statusAlternative\": \"Pendiente Firma cliente\",\n        \"maxValuePagare\": \"150000000\",\n        \"dataAlternative\": [\n          {\n            \"numberConsolidate\": \"43882548\",\n            \"concepto\": \"Capital\",\n            \"plan\": \"ET2\",\n            \"valuePagare\": \"100000000\",\n            \"documents\": [\n              {\n                \"nameDocument\": \"Seguro de vida\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"177\",\n                \"typeDocument\": \"seguro\"\n              }\n            ]\n          },\n          {\n            \"numberConsolidate\": \"43882548\",\n            \"concepto\": \"Interes Corrientes\",\n            \"plan\": \"ET2\",\n            \"valuePagare\": \"100000000\",\n            \"documents\": [\n              {\n                \"nameDocument\": \"Anexo de Operación\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"175\",\n                \"typeDocument\": \"anexo\"\n              },\n              {\n                \"nameDocument\": \"Pagaré\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"176\",\n                \"typeDocument\": \"pagare\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n \n","line":35}},{"name":"match $..statusAlternative contains \"Pendiente de firma\"","result":{"duration":4491500,"error_message":"match failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - Pendiente de firma (LIST:STRING)\n  [\"Pendiente Firma cliente\"]\n  'Pendiente de firma'\n\n    $[0] | not equal (STRING:STRING)\n    'Pendiente Firma cliente'\n    'Pendiente de firma'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:36","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36,"doc_string":{"content_type":"","value":"09:45:21.536 classpath:firma-electronica\/send-email\/send_email.feature:36\nAnd match $..statusAlternative contains \"Pendiente de firma\"\nmatch failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - Pendiente de firma (LIST:STRING)\n  [\"Pendiente Firma cliente\"]\n  'Pendiente de firma'\n\n    $[0] | not equal (STRING:STRING)\n    'Pendiente Firma cliente'\n    'Pendiente de firma'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:36\n","line":36}}],"tags":[]}],"name":"firma-electronica\/send-email\/send_email.feature","description":"validate the sending of email with instructions for the signature","id":"validate-the-sending-of-email-with-instructions-for-the-signature","keyword":"Feature","uri":"firma-electronica\/send-email\/send_email.feature"}]