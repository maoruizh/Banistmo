{"failedCount":3,"prefixedPath":"classpath:firma-electronica\/send-email\/send_email.feature","packageQualifiedName":"firma-electronica.send-email.send_email","loopIndex":-1,"relativePath":"firma-electronica\/send-email\/send_email.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1280000,"millis":1.28,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'"},"stepLog":"09:45:18.935 karate.env system property was: null \n"},{"result":{"nanos":760700,"millis":0.7607,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"path '\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status'"}},{"result":{"nanos":56145900,"millis":56.1459,"status":"passed"},"step":{"line":8,"prefix":"And","index":1,"text":"request { 'documentNumber': 8431834, 'documentType': 1, 'statusAlternative': <statusAlternative>, 'subStatusAlternative': 'Pendiente' }"}},{"result":{"nanos":1008356100,"millis":1008.3561,"status":"passed"},"step":{"line":9,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":193300,"errorMessage":"status code was: 403, expected: 200, response time in milliseconds: 662, url: https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status, response: \n<html style=\"height:100%\"><head><META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"><meta name=\"format-detection\" content=\"telephone=no\"><meta name=\"viewport\" content=\"initial-scale=1.0\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><\/head><body style=\"margin:0px;height:100%\"><iframe id=\"main-iframe\" src=\"\/_Incapsula_Resource?CWUDNSAI=23&xinfo=13-18350460-0%20NNNN%20RT%281709045095315%20353%29%20q%280%200%20-1%20-1%29%20r%280%20-1%29%20B15%2811%2c2507839%2c0%29%20U24&incident_id=1602000640072440767-87442033853206541&edet=15&cinfo=0b0000004e3e&rpinfo=0&mth=POST\" frameborder=0 width=\"100%\" height=\"100%\" marginheight=\"0px\" marginwidth=\"0px\">Request unsuccessful. Incapsula incident ID: 1602000640072440767-87442033853206541<\/iframe><\/body><\/html>\nclasspath:firma-electronica\/send-email\/send_email.feature:10","millis":0.1933,"status":"failed"},"step":{"line":10,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"09:45:20.047 classpath:firma-electronica\/send-email\/send_email.feature:10\nThen status 200\nstatus code was: 403, expected: 200, response time in milliseconds: 662, url: https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status, response: \n<html style=\"height:100%\"><head><META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"><meta name=\"format-detection\" content=\"telephone=no\"><meta name=\"viewport\" content=\"initial-scale=1.0\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><\/head><body style=\"margin:0px;height:100%\"><iframe id=\"main-iframe\" src=\"\/_Incapsula_Resource?CWUDNSAI=23&xinfo=13-18350460-0%20NNNN%20RT%281709045095315%20353%29%20q%280%200%20-1%20-1%29%20r%280%20-1%29%20B15%2811%2c2507839%2c0%29%20U24&incident_id=1602000640072440767-87442033853206541&edet=15&cinfo=0b0000004e3e&rpinfo=0&mth=POST\" frameborder=0 width=\"100%\" height=\"100%\" marginheight=\"0px\" marginwidth=\"0px\">Request unsuccessful. Incapsula incident ID: 1602000640072440767-87442033853206541<\/iframe><\/body><\/html>\nclasspath:firma-electronica\/send-email\/send_email.feature:10\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"And","index":4,"text":"match $.status == 'Pendiente Correo Instrucciones'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"*","index":5,"text":"print response"}}],"line":16,"description":"","durationMillis":1066.736,"failed":true,"error":"status code was: 403, expected: 200, response time in milliseconds: 662, url: https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com\/cobranza-digital\/ms-signature-2\/signature\/update\/negotiation\/status, response: \n<html style=\"height:100%\"><head><META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"><meta name=\"format-detection\" content=\"telephone=no\"><meta name=\"viewport\" content=\"initial-scale=1.0\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><\/head><body style=\"margin:0px;height:100%\"><iframe id=\"main-iframe\" src=\"\/_Incapsula_Resource?CWUDNSAI=23&xinfo=13-18350460-0%20NNNN%20RT%281709045095315%20353%29%20q%280%200%20-1%20-1%29%20r%280%20-1%29%20B15%2811%2c2507839%2c0%29%20U24&incident_id=1602000640072440767-87442033853206541&edet=15&cinfo=0b0000004e3e&rpinfo=0&mth=POST\" frameborder=0 width=\"100%\" height=\"100%\" marginheight=\"0px\" marginwidth=\"0px\">Request unsuccessful. Incapsula incident ID: 1602000640072440767-87442033853206541<\/iframe><\/body><\/html>\nclasspath:firma-electronica\/send-email\/send_email.feature:10","executorName":"Test worker","name":"Validate that the status of alternative is <statusAlternative>","startTime":1709045118886,"refId":"[1.1:16]","endTime":1709045120047,"exampleData":{"documentNumber":"8431834","documentType":"1","messageStatus":"'Pendiente Correo Instrucciones'","subStatusAlternative":"'Pendiente'"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":320900,"millis":0.3209,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'"},"stepLog":"09:45:20.066 karate.env system property was: null \n"},{"result":{"nanos":418000,"millis":0.418,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"path '\/cobranza-digital\/ms-signature-2\/signature\/send-email'"}},{"result":{"nanos":187100,"millis":0.1871,"status":"passed"},"step":{"line":20,"prefix":"And","index":1,"text":"request { 'documentNumber': 8431834, 'documentType': 1 }"}},{"result":{"nanos":286431100,"millis":286.4311,"status":"passed"},"step":{"line":21,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":22,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":15901400,"millis":15.9014,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"print response"},"stepLog":"09:45:20.370 [print] {\n  \"numDocumento\": 8431834,\n  \"statusEmail\": \"Email no enviado\",\n  \"detailsError\": \"No ha sido posible enviar el email porque el estado de alguna de las alternativas no se encuentra en estado 'Pendiente Correo Instrucciones'\"\n}\n \n"},{"result":{"nanos":31520700,"errorMessage":"match failed: EQUALS\n  $ | actual path does not exist (STRING:STRING)\n  '#notpresent'\n  'En proceso'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:24","millis":31.5207,"status":"failed"},"step":{"line":24,"prefix":"And","index":5,"text":"match $.statusNegotiation == 'En proceso'"},"stepLog":"09:45:20.400 classpath:firma-electronica\/send-email\/send_email.feature:24\nAnd match $.statusNegotiation == 'En proceso'\nmatch failed: EQUALS\n  $ | actual path does not exist (STRING:STRING)\n  '#notpresent'\n  'En proceso'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:24\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"And","index":6,"text":"match $.statusAltenatives == [\"Pendiente Firma cliente\"]"}}],"line":28,"description":"","durationMillis":334.8001,"failed":true,"error":"match failed: EQUALS\n  $ | actual path does not exist (STRING:STRING)\n  '#notpresent'\n  'En proceso'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:24","executorName":"Test worker","name":"Send email and validate the next status message 'En proceso' [\"Pendiente Firma cliente\"]","startTime":1709045120065,"refId":"[2.1:28]","endTime":1709045120405,"exampleData":{"documentNumber":"8431834","documentType":"1","statusEmail":"'Delivery was created successfully'","statusNegotiation":"'En proceso'","statusAlternatives":"[\"Pendiente Firma cliente\"]"},"exampleIndex":0},{"sectionIndex":2,"stepResults":[{"result":{"nanos":722700,"millis":0.7227,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/filialesexterior-ext-qa.apps.ambientesbc.com'"},"stepLog":"09:45:20.418 karate.env system property was: null \n"},{"result":{"nanos":1215400,"millis":1.2154,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"path '\/cobranza-digital\/ms-signature-2\/sign\/consult\/negotiation'"}},{"result":{"nanos":368200,"millis":0.3682,"status":"passed"},"step":{"line":32,"prefix":"And","index":1,"text":"request { 'documentNumber': 8431834, 'documentType': 1 }"}},{"result":{"nanos":1097298900,"millis":1097.2989,"status":"passed"},"step":{"line":33,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":34,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":4097800,"millis":4.0978,"status":"passed"},"step":{"line":35,"prefix":"*","index":4,"text":"print response"},"stepLog":"09:45:21.525 [print] {\n  \"data\": {\n    \"client\": {\n      \"documentNumber\": 8431834,\n      \"documentType\": \"Cedula de Extranjeria\",\n      \"statusNegotiation\": \"En proceso\",\n      \"firsName\": \"JOHN\",\n      \"lastName\": \"RUIZ\",\n      \"mail\": \"mcoronad@bancolombia.com\",\n      \"solicitante\": \"Konecta\",\n      \"girador\": \"458528\"\n    },\n    \"alternatives\": [\n      {\n        \"nameAlternative\": \"Consolidacion de Pasivos\",\n        \"descAlternative\": \"Se unifican varias deudas con nuevas condiciones, como períodos de gracia, ampliación del plazo, cambio en tasa de interés, entre otras. No te preocupes! tu calificación no será afectada negativamente en las centrales de información.\",\n        \"statusAlternative\": \"Pendiente Firma cliente\",\n        \"maxValuePagare\": \"150000000\",\n        \"dataAlternative\": [\n          {\n            \"numberConsolidate\": \"43882548\",\n            \"concepto\": \"Capital\",\n            \"plan\": \"ET2\",\n            \"valuePagare\": \"100000000\",\n            \"documents\": [\n              {\n                \"nameDocument\": \"Seguro de vida\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"177\",\n                \"typeDocument\": \"seguro\"\n              }\n            ]\n          },\n          {\n            \"numberConsolidate\": \"43882548\",\n            \"concepto\": \"Interes Corrientes\",\n            \"plan\": \"ET2\",\n            \"valuePagare\": \"100000000\",\n            \"documents\": [\n              {\n                \"nameDocument\": \"Anexo de Operación\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"175\",\n                \"typeDocument\": \"anexo\"\n              },\n              {\n                \"nameDocument\": \"Pagaré\",\n                \"statusDocument\": \"Pendiente de firma\",\n                \"numDocument\": \"176\",\n                \"typeDocument\": \"pagare\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n \n"},{"result":{"nanos":4491500,"errorMessage":"match failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - Pendiente de firma (LIST:STRING)\n  [\"Pendiente Firma cliente\"]\n  'Pendiente de firma'\n\n    $[0] | not equal (STRING:STRING)\n    'Pendiente Firma cliente'\n    'Pendiente de firma'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:36","millis":4.4915,"status":"failed"},"step":{"line":36,"prefix":"And","index":5,"text":"match $..statusAlternative contains \"Pendiente de firma\""},"stepLog":"09:45:21.536 classpath:firma-electronica\/send-email\/send_email.feature:36\nAnd match $..statusAlternative contains \"Pendiente de firma\"\nmatch failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - Pendiente de firma (LIST:STRING)\n  [\"Pendiente Firma cliente\"]\n  'Pendiente de firma'\n\n    $[0] | not equal (STRING:STRING)\n    'Pendiente Firma cliente'\n    'Pendiente de firma'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:36\n"}],"line":39,"description":"","durationMillis":1108.2084,"failed":true,"error":"match failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - Pendiente de firma (LIST:STRING)\n  [\"Pendiente Firma cliente\"]\n  'Pendiente de firma'\n\n    $[0] | not equal (STRING:STRING)\n    'Pendiente Firma cliente'\n    'Pendiente de firma'\n\nclasspath:firma-electronica\/send-email\/send_email.feature:36","executorName":"Test worker","name":"validate the state \"Pendiente de firma\"","startTime":1709045120418,"refId":"[3.1:39]","endTime":1709045121536,"exampleData":{"documentNumber":"8431834","documentType":"1","statusDocument":"\"Pendiente de firma\""},"exampleIndex":0}],"callDepth":0,"name":"validate the sending of email with instructions for the signature","description":"","resultDate":"2024-02-27 09:45:21 a. m.","durationMillis":2509.7445,"passedCount":0}